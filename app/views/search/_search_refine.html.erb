<div id="search_refine">
  
  <ul id="search_tabs">
    <li id="keyword_tab" class="tab_title"><a href="#" onclick="switchSearch('keyword'); return false;">All</a></li>
    <li id="activity_tab" class="tab_title"><a href="#" onclick="switchSearch('activity'); return false;">Events Only</a></li>
  </ul>
  
	<div id="keyword_search" class="tab">
	  <%= render :partial => 'keyword_search' %>
	</div>
	
	<div id="activity_search" class="tab" style="display:none">
	  <%= render :partial => 'event_search' %>
  </div>

</div>

<script type="text/javascript">
  // this can run as soon as the search options on the left exist on the page
  // if we tie this to an onLoad event then it waits until flickr, youtube and twitter
  // respond, and in the meantime the search is just sitting there on the left in
  // a crappy state
  
  // which search to show
  (url.p && url.p == '1') ? switchSearch('activity') : switchSearch('keyword');
  
  // was there already a radius, sport or type in the query string?
  url.radius ? selectOption('radius',url.radius) : null;
  url.sport ? selectOption('sport',url.sport) : null;
  url.type ? selectOption('type',url.type) : null;
</script>

